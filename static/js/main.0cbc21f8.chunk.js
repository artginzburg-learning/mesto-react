(this["webpackJsonpmesto-react"]=this["webpackJsonpmesto-react"]||[]).push([[0],{13:function(e,t,a){},15:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),c=a(3),r=a.n(c),o=(a(13),a(2)),i=a.p+"static/media/logo.6fa47d29.svg",l=a(0);var u=function(){return Object(l.jsx)("header",{className:"header",children:Object(l.jsx)("a",{target:"_self",href:"https://github.com/artginzburg/mesto-react",className:"logo header__logo",children:Object(l.jsx)("img",{className:"logo__img",alt:"Mesto",src:i})})})},p=a(4),m=a(5),d=a(8),j=a(7);var h=function(e){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("img",{onClick:function(){e.onCardClick(e.card)},className:"element__image",alt:e.card.name,src:e.card.link}),Object(l.jsx)("button",{type:"reset",className:"element__trash-button"}),Object(l.jsxs)("div",{className:"element__container",children:[Object(l.jsx)("h2",{className:"element__title",children:e.card.name}),Object(l.jsxs)("div",{className:"element__likes",children:[Object(l.jsx)("button",{type:"button",className:"element__like-button"}),Object(l.jsx)("p",{className:"element__like-counter",children:e.card.likes.length})]})]})]})},b="mesto.nomoreparties.co",_="https://",f="v1",O=new(function(){function e(t){var a=this;Object(p.a)(this,e),this._handleFetch=function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))},this.editProfile=function(e){var t=e.name,n=e.about;return a._customFetch("users/me","PATCH",{name:t,about:n})},this.addCard=function(e,t){return a._customFetch("cards","POST",{name:e,link:t})},this.deleteCard=function(e){return a._customFetch("cards/".concat(e),"DELETE")},this.likeCard=function(e){return a._customFetch("cards/likes/".concat(e),"PUT")},this.unLikeCard=function(e){return a._customFetch("cards/likes/".concat(e),"DELETE")},this.updateAvatar=function(e){var t=e.avatar;return a._customFetch("users/me/avatar","PATCH",{avatar:t})},this._baseUrl=t.baseUrl,this._headers=t.headers}return Object(m.a)(e,[{key:"_customFetch",value:function(e,t,a){var n={headers:this._headers};return t&&"GET"!==t&&(n.method=t,"DELETE"!==t&&(n.headers["Content-Type"]="application/json")),a&&(n.body=JSON.stringify(a)),fetch("".concat(this._baseUrl,"/").concat(e),n).then(this._handleFetch)}},{key:"getUserInfo",value:function(){return this._customFetch("users/me")}},{key:"getInitialCards",value:function(){return this._customFetch("cards")}}]),e}())({baseUrl:"".concat(_).concat(b,"/").concat(f,"/").concat("cohort-24"),headers:{authorization:"70313b07-c3c0-40aa-a296-04d0e6bc7885"}}),x=".elements__list",N=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={userName:"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u0439",userDescription:"\u041f\u043e\u0442\u0435\u0440\u044f\u043d\u043e \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u043c",userAvatar:"",cards:[]},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;O.getUserInfo().then((function(t){return e.setState({userName:t.name,userDescription:t.about,userAvatar:t.avatar})})),O.getInitialCards().then((function(t){e.setState({cards:t}),e.state.cards.forEach((function(t){var a=Object(l.jsx)(h,{onCardClick:e.props.onCardClick,card:t}),n=document.createElement("li");n.className="element",document.querySelector(x).append(n),r.a.render(a,n)}))}))}},{key:"render",value:function(){return Object(l.jsxs)("main",{className:"content",children:[Object(l.jsxs)("section",{className:"profile",children:[Object(l.jsx)("button",{onClick:this.props.onEditAvatar,type:"button",className:"profile__avatar-container",children:Object(l.jsx)("img",{alt:"\u0410\u0432\u0430\u0442\u0430\u0440",className:"profile__avatar",src:this.state.userAvatar})}),Object(l.jsxs)("div",{className:"profile__info",children:[Object(l.jsx)("h1",{className:"profile__name",children:this.state.userName}),Object(l.jsx)("p",{className:"profile__description",children:this.state.userDescription}),Object(l.jsx)("button",{onClick:this.props.onEditProfile,type:"button",className:"profile__edit-button"})]}),Object(l.jsx)("button",{onClick:this.props.onAddPlace,type:"button",className:"profile__add-button"})]}),Object(l.jsx)("section",{className:"elements",children:Object(l.jsx)("ul",{className:"elements__list"})})]})}}]),a}(s.a.Component);var g=function(){return Object(l.jsx)("footer",{className:"footer",children:Object(l.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://github.com/artginzburg",className:"footer__copyright",children:"\xa9 2021 Art Ginzburg"})})};var v=function(e){var t;return Object(l.jsx)("section",{className:"popup"+(e.isOpen?" popup_opened":""),id:e.name,children:Object(l.jsxs)("div",{className:"popup__container",children:[Object(l.jsx)("button",{onClick:e.onClose,type:"reset",className:"popup__close-button"}),Object(l.jsx)("h2",{className:"popup__title",children:e.title}),Object(l.jsxs)("form",{className:"popup__form",action:"#",children:[e.children,Object(l.jsx)("button",{type:"submit",className:"popup__button",children:null!==(t=e.buttonTitle)&&void 0!==t?t:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})]})})};var C=function(e){return Object(l.jsx)("section",{className:"popup popup_type_image"+(e.card.name?" popup_opened":""),id:"image-viewer",children:Object(l.jsxs)("figure",{className:"popup__figure",children:[Object(l.jsx)("button",{onClick:e.onClose,type:"button",className:"popup__close-button popup__close-button_parent-corners_straight"}),Object(l.jsx)("img",{className:"popup__image",alt:e.card.name,src:e.card.link}),Object(l.jsx)("figcaption",{className:"popup__caption",children:e.card.name})]})})};var k=function(){var e=s.a.useState(0),t=Object(o.a)(e,2),a=t[0],n=t[1],c=s.a.useState(0),r=Object(o.a)(c,2),i=r[0],p=r[1],m=s.a.useState(0),d=Object(o.a)(m,2),j=d[0],h=d[1],b=s.a.useState({}),_=Object(o.a)(b,2),f=_[0],O=_[1];function x(){h(0),n(0),p(0),O({})}return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(u,{}),Object(l.jsx)(N,{onEditProfile:function(){n(1)},onAddPlace:function(){p(1)},onEditAvatar:function(){h(1)},onCardClick:function(e){O(e)}}),Object(l.jsx)(g,{}),Object(l.jsxs)(v,{isOpen:a,onClose:x,title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c",name:"profile-editor",children:[Object(l.jsx)("input",{type:"text",autoComplete:"name",autoCapitalize:"words",className:"popup__input",name:"name",id:"profile-name",placeholder:"\u0418\u043c\u044f",minLength:"2",maxLength:"40",required:!0}),Object(l.jsx)("p",{className:"popup__error",id:"profile-name-error"}),Object(l.jsx)("input",{type:"text",className:"popup__input",name:"about",id:"profile-about",placeholder:"\u041e \u0441\u0435\u0431\u0435",minLength:"2",maxLength:"200",required:!0}),Object(l.jsx)("p",{className:"popup__error",id:"profile-about-error"})]}),Object(l.jsxs)(v,{isOpen:i,onClose:x,title:"\u041d\u043e\u0432\u043e\u0435 \u043c\u0435\u0441\u0442\u043e",name:"element-editor",buttonTitle:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c",children:[Object(l.jsx)("input",{type:"text",className:"popup__input",name:"title",id:"element-title",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",minLength:"2",maxLength:"30",required:!0}),Object(l.jsx)("p",{className:"popup__error",id:"element-title-error"}),Object(l.jsx)("input",{type:"url",className:"popup__input",name:"link",id:"element-link",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443",required:!0}),Object(l.jsx)("p",{className:"popup__error",id:"element-link-error"})]}),Object(l.jsxs)(v,{isOpen:j,onClose:x,title:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440",name:"avatar-editor",children:[Object(l.jsx)("input",{type:"url",className:"popup__input",name:"avatar",id:"profile-avatar",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443",required:!0}),Object(l.jsx)("p",{className:"popup__error",id:"profile-avatar-error"})]}),Object(l.jsx)(v,{onClose:x,title:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b?",name:"delete-confirmation",buttonTitle:"\u0414\u0430"}),Object(l.jsx)(C,{card:f,onClose:x})]})},y=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,16)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,c=t.getLCP,r=t.getTTFB;a(e),n(e),s(e),c(e),r(e)}))};r.a.render(Object(l.jsx)(s.a.StrictMode,{children:Object(l.jsx)(k,{})}),document.getElementById("root")),y()}},[[15,1,2]]]);
//# sourceMappingURL=main.0cbc21f8.chunk.js.map